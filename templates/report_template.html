


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alliance Group - Bale Testing Report</title>
    <style>
        .logo {
    width: 80px;
    height: 80px;
    position: relative;
    display: inline-block;
    margin-right: 0;
    vertical-align: middle;
    filter: drop-shadow(0 4px 8px rgba(0,0,0,0.15));
}

.logo-circle {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    position: relative;
    overflow: hidden;
    background: #fff;
    box-shadow: 0 0 0 2px rgba(255,255,255,0.8);
}

.logo-segment {
    position: absolute;
    width: 100%;
    height: 100%;
}

.segment-1 {
    background: linear-gradient(45deg, #ff6b35 0%, #ff8c42 100%);
    clip-path: polygon(50% 50%, 0% 0%, 100% 0%);
}

.segment-2 {
    background: linear-gradient(135deg, #4285f4 0%, #1a73e8 100%);
    clip-path: polygon(50% 50%, 100% 0%, 100% 100%);
}

.segment-3 {
    background: linear-gradient(225deg, #34a853 0%, #7cb342 100%);
    clip-path: polygon(50% 50%, 100% 100%, 0% 100%);
}

.segment-4 {
    background: linear-gradient(315deg, #ea4335 0%, #d33b2c 100%);
    clip-path: polygon(50% 50%, 0% 100%, 0% 0%);
}

.logo-center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 18px;
    height: 18px;
    background: linear-gradient(135deg, #ea4335, #c62828);
    border-radius: 50%;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    border: 2px solid #fff;
    z-index: 10;
}

.logo-inner-circle {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 45px;
    height: 45px;
    background: #fff;
    border-radius: 50%;
    z-index: 5;
}

.header-content {

    display: grid;
    align-items: center;
    justify-content: space-between;
    padding: 20px;
    background: linear-gradient(135deg, #f8f9fa, #e9ecef);
    border-bottom: 3px solid #dee2e6;
    min-height: 100px;
}

.header-flex {
    display: flex;
    align-items: center;
    justify-content: center;
}

.logo-container {
    margin-right: 15px;
    display: flex;
    align-items: center;
}

.company-name-container {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-grow: 1;
    
}

.company-name {
    font-size: 35px;
    font-weight: bold;
    color: #2c3e50;
    margin: 0;
    text-shadow: 0 2px 4px rgba(0,0,0,0.1);
    letter-spacing: 1px;
    text-align: center;
}
    </style>
</head>
<body>
    <table border="1" style="border-collapse: collapse; width: 100%; font-family: Arial, sans-serif;">
        <tr>
            <td colspan="5" class="header-content">
                <div class="header-flex">
                    <div class="logo-container">
                        <div class="logo">
                            <div class="logo-circle">
                                <div class="logo-segment segment-1"></div>
                                <div class="logo-segment segment-2"></div>
                                <div class="logo-segment segment-3"></div>
                                <div class="logo-segment segment-4"></div>
                                <div class="logo-inner-circle"></div>
                                <div class="logo-center"></div>
                            </div>
                        </div>
                    </div>
                    <div class="company-name-container">
                        <h1 class="company-name">Alliance Group</h1>
                    </div>
                </div>
            </td>
        </tr>
        <tr>
            <td colspan="5" style="text-align: center; font-size: 25px; font-weight: bold; padding: 10px; background-color: #e0e0e0;">Bale Testing Report</td>
        </tr>
        <tr>
            <td colspan="2" style="font-weight: bold;font-size: 18px; padding: 8px;">Party Name:</td>
            <td colspan="3" style="padding: 8px;font-size: 18px;">{{ report.party_name }}</td>
        </tr>
        <tr>
            <td colspan="2"style="font-weight: bold;font-size: 18px; padding: 8px;">Vehicle Number:</td>
            <td colspan="3" style="padding: 8px;font-size: 18px;">{{ report.vehicle }}</td>
        </tr>
        <tr>
            <td colspan="2"style="font-weight: bold; font-size: 18px;padding: 8px;">Date:</td>
            <td colspan="3" style="padding: 8px;font-size: 18px;">{{ report.date }}</td>
        </tr>
        <!-- <tr>
            <td colspan="2"style="font-weight: bold;font-size: 18px; padding: 8px;">Total Weight:</td>
            <td colspan="3" style="padding: 8px;font-size: 18px;">{{ report.total_weight }} kg</td>
        </tr> -->
        <tr>
            <td colspan="2"style="font-weight: bold;font-size: 18px; padding: 8px;">Bill Number:</td>
            <td colspan="3" style="padding: 8px;font-size: 18px;">{{ report.bill_number }}</td>
        </tr>
        <tr>
            <td colspan="2"style="font-weight: bold;font-size: 18px; padding: 8px;">Weight Details:</td>
            <td colspan="3" style="padding: 8px;font-size: 18px;">{{ report.weight_details_text or "No weight details provided" }}</td>
        </tr>
        <tr style="background-color: #d0d0d0; font-weight: bold; padding: 8px;">
            <td style="font-size: 18px; ">Item</td>
            <td style="font-size: 18px;">Bale-1 (kg)</td>
            <td style="font-size: 18px;">Bale-1 (%)</td>
            <td style="font-size: 18px;">Bale-2 (kg)</td>
            <td style="font-size: 18px;">Bale-2 (%)</td>
        </tr>
        <tr> 
            <td style="font-size: 18px; padding: 8px;">Bale Weight</td>
            <td style="padding: 8px;font-size: 18px;">{{ report.bale1.get("bale_weight", "-") }}</td>
            <td style="padding: 8px;font-size: 18px;">-</td>
            <td style="padding: 8px;font-size: 18px;">{{ report.bale2.get("bale_weight", "-") }}</td>
            <td style="padding: 8px;font-size: 18px;">-</td>
        </tr> 
        <tr> 
          <td style="font-size: 18px; padding: 8px;">Tar/Raffiya</td>
          <td s style="font-size: 18px; padding: 8px;"tyle="padding: 8px;">{{ report.bale1.get("tar_raffiya", "-") }}</td>
          <td s style="font-size: 18px; padding: 8px;"tyle="padding: 8px;">{{ report.bale1.get("tar_raffiya_percent", "-")|round(2) }}%</td>
            <td style="padding: 8px;font-size: 18px;">{{ report.bale2.get("tar_raffiya", "-") }}</td>
            <td style="padding: 8px;font-size: 18px;">{{ report.bale2.get("tar_raffiya_percent", "-")|round(2) }}%</td>
        </tr> 
        <tr> 
          <td style="font-size: 18px; padding: 8px;">PVC</td>
          <td s style="font-size: 18px; padding: 8px;"tyle="padding: 8px;">{{ report.bale1.get("pvc", "-") }}</td>
            <td style="font-size: 18px; padding: 8px;" style="padding: 8px;">{{ report.bale1.get("pvc_percent", "-")|round(2) }}%</td>
            <td style="padding: 8px;font-size: 18px;">{{ report.bale2.get("pvc", "-") }}</td>
            <td style="padding: 8px;font-size: 18px;">{{ report.bale2.get("pvc_percent", "-")|round(2) }}%</td>
        </tr> 
        <tr> 
            <td style="font-size: 18px; padding: 8px;">Non PET</td>
            <td style="font-size: 18px; padding: 8px;" style="padding: 8px;">{{ report.bale1.get("non_pet", "-") }}</td>
            <td style="font-size: 18px; padding: 8px;" style="padding: 8px;">{{ report.bale1.get("non_pet_percent", "-")|round(2) }}%</td>
            <td style="padding: 8px;font-size: 18px;">{{ report.bale2.get("non_pet", "-") }}</td>
            <td style="padding: 8px;font-size: 18px;">{{ report.bale2.get("non_pet_percent", "-")|round(2) }}%</td>
        </tr> 
        <tr> 
            <td style="font-size: 18px; padding: 8px;">Non Food</td>
            <td style="font-size: 18px; padding: 8px;" style="padding: 8px;">{{ report.bale1.get("non_food", "-") }}</td>
            <td style="font-size: 18px; padding: 8px;" style="padding: 8px;">{{ report.bale1.get("non_food_percent", "-")|round(2) }}%</td>
            <td style="padding: 8px;font-size: 18px;">{{ report.bale2.get("non_food", "-") }}</td>
            <td style="padding: 8px;font-size: 18px;">{{ report.bale2.get("non_food_percent", "-")|round(2) }}%</td>
        </tr> 
        <tr> 
            <td style="font-size: 18px; padding: 8px;">Metal</td>
            <td style="font-size: 18px; padding: 8px;" style="padding: 8px;">{{ report.bale1.get("metal", "-") }}</td>
            <td style="font-size: 18px; padding: 8px;" style="padding: 8px;">{{ report.bale1.get("metal_percent", "-")|round(2) }}%</td>
            <td style="padding: 8px;font-size: 18px;">{{ report.bale2.get("metal", "-") }}</td>
            <td style="padding: 8px;font-size: 18px;">{{ report.bale2.get("metal_percent", "-")|round(2) }}%</td>
        </tr> 
        <tr> 
            <td style="font-size: 18px; padding: 8px;">Colour</td>
            <td style="font-size: 18px; padding: 8px;" style="padding: 8px;">{{ report.bale1.get("colour", "-") }}</td>
            <td style="font-size: 18px; padding: 8px;" style="padding: 8px;">{{ report.bale1.get("colour_percent", "-")|round(2) }}%</td>
            <td style="padding: 8px;font-size: 18px;">{{ report.bale2.get("colour", "-") }}</td>
            <td style="padding: 8px;font-size: 18px;">{{ report.bale2.get("colour_percent", "-")|round(2) }}%</td>
        </tr> 
        <tr> 
            <td style="font-size: 18px; padding: 8px;">Big Jar</td>
            <td style="font-size: 18px; padding: 8px;" style="padding: 8px;">{{ report.bale1.get("big_jar", "-") }}</td>
            <td style="font-size: 18px; padding: 8px;" style="padding: 8px;">{{ report.bale1.get("big_jar_percent", "-")|round(2) }}%</td>
            <td style="padding: 8px;font-size: 18px;">{{ report.bale2.get("big_jar", "-") }}</td>
            <td style="padding: 8px;font-size: 18px;">{{ report.bale2.get("big_jar_percent", "-")|round(2) }}%</td>
        </tr> 
        <tr> 
            <td style="font-size: 18px; padding: 8px;">Big Jar Mix</td>
            <td style="font-size: 18px; padding: 8px;" style="padding: 8px;">{{ report.bale1.get("big_jar_mix", "-") }}</td>
            <td style="font-size: 18px; padding: 8px;" style="padding: 8px;">{{ report.bale1.get("big_jar_mix_percent", "-")|round(2) }}%</td>
            <td style="padding: 8px;font-size: 18px;">{{ report.bale2.get("big_jar_mix", "-") }}</td>
            <td style="padding: 8px;font-size: 18px;">{{ report.bale2.get("big_jar_mix_percent", "-")|round(2) }}%</td>
        </tr> 
        <tr> 
            <td style="font-size: 18px; padding: 8px;">D-Grade</td>
            <td style="font-size: 18px; padding: 8px;" style="padding: 8px;">{{ report.bale1.get("d_grade", "-") }}</td>
            <td style="font-size: 18px; padding: 8px;" style="padding: 8px;">{{ report.bale1.get("d_grade_percent", "-")|round(2) }}%</td>
            <td style="padding: 8px;font-size: 18px;">{{ report.bale2.get("d_grade", "-") }}</td>
            <td style="padding: 8px;font-size: 18px;">{{ report.bale2.get("d_grade_percent", "-")|round(2) }}%</td>
        </tr> 
        <tr>
            <td style="font-size: 18px; padding: 8px;">Dirty Bottle</td>
            <td style="font-size: 18px; padding: 8px;" style="padding: 8px;">{{ report.bale1.get("dirty_bottle", "-") }}</td>
            <td style="font-size: 18px; padding: 8px;" style="padding: 8px;">{{ report.bale1.get("dirty_bottle_percent", "-")|round(2) }}%</td>
            <td style="font-size: 18px; padding: 8px;" style="padding: 8px;">{{ report.bale2.get("dirty_bottle", "-") }}</td>
            <td style="font-size: 18px; padding: 8px;" style="padding: 8px;">{{ report.bale2.get("dirty_bottle_percent", "-")|round(2) }}%</td>
        </tr>
        <tr>
            <td style="font-size: 18px; padding: 8px;">Moisture</td>
            <td style="font-size: 18px; padding: 8px;" style="padding: 8px;">{{ report.bale1.get("moisture", "-") }}</td>
            <td style="font-size: 18px; padding: 8px;" style="padding: 8px;">{{ report.bale1.get("moisture_percent", "-")|round(2) }}%</td>
            <td style="font-size: 18px; padding: 8px;" style="padding: 8px;">{{ report.bale2.get("moisture", "-") }}</td>
            <td style="font-size: 18px; padding: 8px;" style="padding: 8px;">{{ report.bale2.get("moisture_percent", "-")|round(2) }}%</td>
        </tr>
        
    </table>

    {% if report.photos and report.photos|length > 0 %}
    <div style="margin-top: 50px; page-break-before: always; padding-top: 20px;">
        <table border="1" style="border-collapse: collapse; width: 100%; font-family: Arial, sans-serif;">
            <tr>
                <td colspan="5" style="text-align: center; font-size: 24px; font-weight: bold; padding: 15px; background-color: #f8f9fa; color: #2c3e50;">
                    <i class="fas fa-camera"></i>
                    PHOTO DOCUMENTATION
                </td>
            </tr>
            <tr>
                <td colspan="5" style="padding: 20px;">
                    <div style="display: flex; flex-wrap: wrap; gap: 20px; justify-content: center;">
                        {% for photo in report.photos %}
                        <div style="text-align: center; margin: 10px; border: 2px solid #dee2e6; border-radius: 10px; padding: 15px; background: #ffffff; box-shadow: 0 4px 8px rgba(0,0,0,0.1); min-width: 250px;">
                            <img src="{{ photo.data }}" style="max-width: 250px; max-height: 250px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); object-fit: cover;" />
                            <p style="margin: 15px 0 0 0; font-size: 14px; color: #495057; font-weight: bold; word-break: break-word;">{{ photo.name }}</p>
                            <p style="margin: 5px 0 0 0; font-size: 12px; color: #6c757d;">Photo {{ loop.index }} of {{ report.photos|length }}</p>
                        </div>
                        {% endfor %}
                    </div>
                </td>
            </tr>
        </table>
    </div>
    {% endif %}
</body>
</html> 